<?php

/**
 * PaymentsMethods
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class PaymentsMethods extends BasePaymentsMethods
{
    /**
     * getList
     * Get a list ready for the html select object
     * @return array
     */
    public static function getList($empty = false, array $criterias = array()) {
        $items = array ();
        $registry = Shineisp_Registry::getInstance ();
        $translations = $registry->Zend_Translate;
        
        if ($empty) {
            $items [] = $translations->translate ( 'Select ...' );
        }
        
        $Methods = Doctrine_Query::create ()->from ( 'PaymentsMethods p' );
        
        if(count($criterias) > 0){
            foreach($criterias as $criteria){
                 $Methods->addWhere($criteria['where'], $criteria['params']);
            }
        }
        
        $arrMethods = $Methods->execute ()->toArray ();
        
        foreach ( $arrMethods as $c ) {
            $items [$c ['method_id']] = $translations->translate($c ['method']);
        }
        return $items;
    }
    
}