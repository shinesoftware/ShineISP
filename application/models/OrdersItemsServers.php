<?php

/**
 * OrdersItemsServers
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class OrdersItemsServers extends BaseOrdersItemsServers
{

    /**
     * Attach an order item to a server
     * 
     * 
     * @param integer $orderItemID
     * @param integer $serverID
     */
    public static function addServer($orderItemID, $serverID){
    	if(is_numeric($orderItemID) && is_numeric($serverID)){
	    	$order = OrdersItems::find($orderItemID, 'order_id', true);

	    	if ( !empty($order) && is_array($order) && count($order) > 0 ) {
	    		$order   = $order[0];
				
				if ( !isset($order['order_id']) || intval($order['order_id']) == 0 ) {
					return false;
				}
				
				$orderID = $order['order_id'];

    			$OrdersItemsServers = new OrdersItemsServers();
				$OrdersItemsServers ['server_id']    = intval($serverID);
				$OrdersItemsServers ['order_id']     = intval($orderID);
				$OrdersItemsServers ['orderitem_id'] = intval($orderItemID);
				$OrdersItemsServers->save ();
				
				return true;
	    	}
    	}
    	return false;
    }

}